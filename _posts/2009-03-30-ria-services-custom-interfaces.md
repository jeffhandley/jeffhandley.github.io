---
layout: post
title: ".NET RIA Services &ndash; Implementing Custom Interfaces"
date: 2009-03-30 20:49:21 -0700
comments: true
tags: ["Silverlight", "RIAServices"]
redirect_from: ["/archive/2009/03/30/ria-services-custom-interfaces.aspx/"]
author: "Jeff Handley"
---
<!-- more -->
<p>.NET RIA Services allows you to write code on the server in an ASP.NET project, and have it available within a Silverlight application hosted by that web project.  Using build-time code generation, your entity types in the server project become available within the client project.  You can get <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=76bb3a07-3846-4564-b0c3-27972bcaabce&amp;displaylang=en" target="_blank">.NET RIA Services</a> today and provide feedback on the <a title=".NET RIA Services Forums" href="http://silverlight.net/forums/53.aspx" target="_blank">forums</a>.</p>  <p>Well, I am working on a scenario where I needed to have an entity implement a custom interface on both the server and the client.  I immediately wondered, “How on Earth will the code generation know to propagate my interface implementation to the client?”  I started digging into the code gen and found that it doesn’t do anything with regard to interface implementations.  I briefly thought that code gen would have to be augmented to allow my scenario.  Let’s break down what would need to happen:</p>  <ol>   <li>How would code generation know which interfaces to propagate?  It might need to have some sort of allow list for interfaces that should be propagated. </li>  <li>How would it get the actual implementation over into the client?  You’d need some way of marking the implementation methods as shared so they move over. </li> </ol>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="" border="0" alt="" align="right" src="http://blog.jeffhandley.com/images/blog_jeffhandley_com/WindowsLiveWriter/76e.NETRIAServicesImplementingCustomInte_C25F/Img6%5B1%5D_3.jpg" width="125" height="125" /> Oh wait, “shared;” duh!  It hit me that we already have a solution for this.  All you have to do is use a partial class for your model, and name the file with .shared.cs (or .shared.vb).  This file will automatically be copied to the Silverlight project, so whatever is in it will be retained on the client.  So with all of the interface implementation in that file, you’re done.  That was easy!</p>  <p><em>MyEntity.shared.cs</em></p>  <div style="border-bottom: gray 1px solid; border-left: gray 1px solid; padding-bottom: 4px; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; padding-left: 4px; width: 97.5%; padding-right: 4px; font-family: consolas, 'Courier New', courier, monospace; max-height: 200px; font-size: 8pt; overflow: auto; border-top: gray 1px solid; cursor: text; border-right: gray 1px solid; padding-top: 4px">   <div style="border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px">   <pre style="border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #606060">   1:</span> <span style="color: #0000ff">public</span> <span style="color: #0000ff">partial</span> <span style="color: #0000ff">class</span> MyEntity : IMyCustomInterface</pre>

  <pre style="border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #606060">   2:</span> {</pre>

  <pre style="border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #606060">   3:</span>   <span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> MyCustomInterfaceImplementation() { ... }</pre>

  <pre style="border-bottom-style: none; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: consolas, 'Courier New', courier, monospace; border-top-style: none; color: black; font-size: 8pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #606060">   4:</span> }</pre>
  </div>
</div>

<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:0767317B-992E-4b12-91E0-4F059A8CECA8:bc7441e2-0dd2-4de9-b4b2-449b802b6213" class="wlWriterEditableSmartContent">Technorati Tags: <a href="http://technorati.com/tags/Silverlight" rel="tag">Silverlight</a>,<a href="http://technorati.com/tags/RIAServices" rel="tag">RIAServices</a></div>

